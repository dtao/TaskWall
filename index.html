<!DOCTYPE html>
<html ng-app="TaskWall">

<head>
    <title>TaskWall</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/generic.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/application.css" />
    <script type="text/javascript" src="javascripts/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="javascripts/underscore.min.js"></script>
    <script type="text/javascript" src="javascripts/angular-1.2.16.js"></script>
    <script type="text/javascript" src="javascripts/highcharts-2.2.5.js"></script>
    <script type="text/javascript" src="javascripts/taskwall.js"></script>
    <script type="text/javascript" src="javascripts/application.js"></script>
    <script type="text/javascript" src="javascripts/tickets.js"></script>
</head>

<body ng-controller="ApplicationController">
    <div id="navmenu">
        <ul>
            <li ng-if="user.loggedIn">Logged in as {{user.username}}</li>
            <li ng-if="user.loggedIn"><a ng-click="user.logout()">Log out</a></li>
        </ul>
    </div>

    <div id="login"
        ng-controller="LoginController as ctrl"
        ng-if="!user.loggedIn">

        <div class="heading">
            <h1>Log in</h1>
        </div>

        <div class="content">
            <form>
                <div class="field">
                    <label>Username</label>
                    <input type="text" ng-model="username" />
                </div>

                <div class="field">
                    <label>Password</label>
                    <input type="password" ng-model="password" />
                </div>

                <div class="action">
                    <button ng-click="ctrl.login()">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <div id="content"
        ng-controller="TicketsController"
        ng-if="user.loggedIn">

        <input class="tickets-search" placeholder="Search to highlight certain tickets" />

        <a class="hide-non-matching-cards-link">Hide non-matching cards</a>

        <div class="status-selectors">
            <div class="label">Show:</div>
            <div class="status-selector selected"
                ng-repeat="status in statuses">

                <div class="icon"></div>
                <span class="value">{{status}}</span>
            </div>
        </div>

        <div class="ticket-wall">
            <div class="tickets">
                <div ng-repeat="ticket in tickets | orderBy:'created_at':true"
                    ng-include="'ticket_card.html'">
                </div>
            </div>
        </div>
    </div>
</body>

</html>
